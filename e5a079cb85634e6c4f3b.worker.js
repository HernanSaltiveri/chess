!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/chess/",n(n.s=88)}([function(t,e,n){"use strict";t.exports=function(t){if("function"!==typeof t)throw new TypeError(t+" is not a function");return t}},function(t,e,n){"use strict";var r=n(24)();t.exports=function(t){return t!==r&&null!==t}},function(t,e,n){"use strict";var r=n(25),o=Math.max;t.exports=function(t){return o(0,r(t))}},function(t,e,n){},function(t,e,n){"use strict";var r=n(16),o=n(39),i=n(13),u=n(11),c=n(43);(t.exports=function(t,e){var n,o,a,f,l;return arguments.length<2||"string"!==typeof t?(f=e,e=t,t=null):f=arguments[2],r(t)?(n=c.call(t,"c"),o=c.call(t,"e"),a=c.call(t,"w")):(n=a=!0,o=!1),l={value:e,configurable:n,enumerable:o,writable:a},f?i(u(f),l):l}).gs=function(t,e,n){var a,f,l,s;return"string"!==typeof t?(l=n,n=e,e=t,t=null):l=arguments[3],r(e)?o(e)?r(n)?o(n)||(l=n,n=void 0):n=void 0:(l=e,e=n=void 0):e=void 0,r(t)?(a=c.call(t,"c"),f=c.call(t,"e")):(a=!0,f=!1),s={get:e,set:n,configurable:a,enumerable:f},l?i(u(l),s):s}},function(t,e,n){"use strict";var r=n(1);t.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},function(t,e,n){"use strict";t.exports=n(30)("forEach")},function(t,e,n){"use strict";t.exports=n(53)()?globalThis:n(54)},function(t,e,n){"use strict";t.exports=n(49)()?Array.from:n(50)},function(t,e,n){"use strict";var r=n(67),o=n(2),i=n(5),u=Array.prototype.indexOf,c=Object.prototype.hasOwnProperty,a=Math.abs,f=Math.floor;t.exports=function(t){var e,n,l,s;if(!r(t))return u.apply(this,arguments);for(n=o(i(this).length),l=arguments[1],e=l=isNaN(l)?0:l>=0?f(l):o(this.length)-f(a(l));e<n;++e)if(c.call(this,e)&&(s=this[e],r(s)))return e;return-1}},function(t,e,n){"use strict";(function(e,n){var r,o;r=function(t){if("function"!==typeof t)throw new TypeError(t+" is not a function");return t},o=function(t){var e,n,o=document.createTextNode(""),i=0;return new t((function(){var t;if(e)n&&(e=n.concat(e));else{if(!n)return;e=n}if(n=e,e=null,"function"===typeof n)return t=n,n=null,void t();for(o.data=i=++i%2;n;)t=n.shift(),n.length||(n=null),t()})).observe(o,{characterData:!0}),function(t){r(t),e?"function"===typeof e?e=[e,t]:e.push(t):(e=t,o.data=i=++i%2)}},t.exports=function(){if("object"===typeof e&&e&&"function"===typeof e.nextTick)return e.nextTick;if("object"===typeof document&&document){if("function"===typeof MutationObserver)return o(MutationObserver);if("function"===typeof WebKitMutationObserver)return o(WebKitMutationObserver)}return"function"===typeof n?function(t){n(r(t))}:"function"===typeof setTimeout||"object"===typeof setTimeout?function(t){setTimeout(r(t),0)}:null}()}).call(this,n(19),n(73).setImmediate)},function(t,e,n){"use strict";var r=n(1),o=Array.prototype.forEach,i=Object.create,u=function(t,e){var n;for(n in t)e[n]=t[n]};t.exports=function(t){var e=i(null);return o.call(arguments,(function(t){r(t)&&u(Object(t),e)})),e}},function(t,e,n){"use strict";var r=n(2);t.exports=function(t,e,n){var o;return isNaN(t)?(o=e)>=0?n&&o?o-1:o:1:!1!==t&&r(t)}},function(t,e,n){"use strict";t.exports=n(33)()?Object.assign:n(34)},function(t,e,n){"use strict";var r,o,i,u,c=n(2),a=function(t,e){return e};try{Object.defineProperty(a,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch(f){}1===a.length?(r={configurable:!0,writable:!1,enumerable:!1},o=Object.defineProperty,t.exports=function(t,e){return e=c(e),t.length===e?t:(r.value=e,o(t,"length",r))}):(u=n(15),i=function(){var t=[];return function(e){var n,r=0;if(t[e])return t[e];for(n=[];e--;)n.push("a"+(++r).toString(36));return new Function("fn","return function ("+n.join(", ")+") { return fn.apply(this, arguments); };")}}(),t.exports=function(t,e){var n;if(e=c(e),t.length===e)return t;n=i(e)(t);try{u(n,t)}catch(f){}return n})},function(t,e,n){"use strict";var r=n(5),o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols;t.exports=function(t,e){var n,a=Object(r(e));if(t=Object(r(t)),u(a).forEach((function(r){try{o(t,r,i(e,r))}catch(u){n=u}})),"function"===typeof c&&c(a).forEach((function(r){try{o(t,r,i(e,r))}catch(u){n=u}})),void 0!==n)throw n;return t}},function(t,e,n){"use strict";t.exports=function(t){return void 0!==t&&null!==t}},function(t,e,n){"use strict";var r=n(56);t.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}},function(t,e,n){"use strict";var r=n(0),o=n(6),i=Function.prototype.call;t.exports=function(t,e){var n={},u=arguments[2];return r(e),o(t,(function(t,r,o,c){n[r]=i.call(e,u,t,r,o,c)})),n}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"===typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var a,f=[],l=!1,s=-1;function p(){l&&a&&(l=!1,a.length?f=a.concat(f):s=-1,f.length&&h())}function h(){if(!l){var t=c(p);l=!0;for(var e=f.length;e;){for(a=f,f=[];++s<e;)a&&a[s].run();s=-1,e=f.length}a=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new d(t,e)),1!==f.length||l||c(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";t.exports=function(t){return"function"===typeof t}},function(t,e){t.exports=function(t){return!!t&&("object"===typeof t||"function"===typeof t)&&"function"===typeof t.then}},function(t,e,n){"use strict";var r=n(11),o=n(12),i=n(29);t.exports=function(t){var e,u=r(arguments[1]);return u.normalizer||0!==(e=u.length=o(u.length,t.length,u.async))&&(u.primitive?!1===e?u.normalizer=n(64):e>1&&(u.normalizer=n(65)(e)):u.normalizer=!1===e?n(66)():1===e?n(70)():n(71)(e)),u.async&&n(72),u.promise&&n(75),u.dispose&&n(81),u.maxAge&&n(82),u.max&&n(85),u.refCounter&&n(87),i(t,u)}},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){"use strict";var r=n(26),o=Math.abs,i=Math.floor;t.exports=function(t){return isNaN(t)?0:0!==(t=Number(t))&&isFinite(t)?r(t)*i(o(t)):t}},function(t,e,n){"use strict";t.exports=n(27)()?Math.sign:n(28)},function(t,e,n){"use strict";t.exports=function(){var t=Math.sign;return"function"===typeof t&&(1===t(10)&&-1===t(-20))}},function(t,e,n){"use strict";t.exports=function(t){return t=Number(t),isNaN(t)||0===t?t:t>0?1:-1}},function(t,e,n){"use strict";var r=n(0),o=n(6),i=n(3),u=n(31),c=n(12);t.exports=function t(e){var n,a,f;if(r(e),(n=Object(arguments[1])).async&&n.promise)throw new Error("Options 'async' and 'promise' cannot be used together");return hasOwnProperty.call(e,"__memoized__")&&!n.force?e:(a=c(n.length,e.length,n.async&&i.async),f=u(e,a,n),o(i,(function(t,e){n[e]&&t(n[e],f,n)})),t.__profiler__&&t.__profiler__(f),f.updateEnv(),f.memoized)}},function(t,e,n){"use strict";var r=n(0),o=n(5),i=Function.prototype.bind,u=Function.prototype.call,c=Object.keys,a=Object.prototype.propertyIsEnumerable;t.exports=function(t,e){return function(n,f){var l,s=arguments[2],p=arguments[3];return n=Object(o(n)),r(f),l=c(n),p&&l.sort("function"===typeof p?i.call(p,n):void 0),"function"!==typeof t&&(t=l[t]),u.call(t,l,(function(t,r){return a.call(n,t)?u.call(f,s,n[t],t,n,r):e}))}}},function(t,e,n){"use strict";var r=n(32),o=n(14),i=n(4),u=n(46).methods,c=n(47),a=n(63),f=Function.prototype.apply,l=Function.prototype.call,s=Object.create,p=Object.defineProperties,h=u.on,d=u.emit;t.exports=function(t,e,n){var u,y,v,m,g,b,O,w,x,_,j,T,P,S,M,E=s(null);return y=!1!==e?e:isNaN(t.length)?1:t.length,n.normalizer&&(_=a(n.normalizer),v=_.get,m=_.set,g=_.delete,b=_.clear),null!=n.resolvers&&(M=c(n.resolvers)),S=v?o((function(e){var n,o,i=arguments;if(M&&(i=M(i)),null!==(n=v(i))&&hasOwnProperty.call(E,n))return j&&u.emit("get",n,i,this),E[n];if(o=1===i.length?l.call(t,this,i[0]):f.call(t,this,i),null===n){if(null!==(n=v(i)))throw r("Circular invocation","CIRCULAR_INVOCATION");n=m(i)}else if(hasOwnProperty.call(E,n))throw r("Circular invocation","CIRCULAR_INVOCATION");return E[n]=o,T&&u.emit("set",n,null,o),o}),y):0===e?function(){var e;if(hasOwnProperty.call(E,"data"))return j&&u.emit("get","data",arguments,this),E.data;if(e=arguments.length?f.call(t,this,arguments):l.call(t,this),hasOwnProperty.call(E,"data"))throw r("Circular invocation","CIRCULAR_INVOCATION");return E.data=e,T&&u.emit("set","data",null,e),e}:function(e){var n,o,i=arguments;if(M&&(i=M(arguments)),o=String(i[0]),hasOwnProperty.call(E,o))return j&&u.emit("get",o,i,this),E[o];if(n=1===i.length?l.call(t,this,i[0]):f.call(t,this,i),hasOwnProperty.call(E,o))throw r("Circular invocation","CIRCULAR_INVOCATION");return E[o]=n,T&&u.emit("set",o,null,n),n},u={original:t,memoized:S,profileName:n.profileName,get:function(t){return M&&(t=M(t)),v?v(t):String(t[0])},has:function(t){return hasOwnProperty.call(E,t)},delete:function(t){var e;hasOwnProperty.call(E,t)&&(g&&g(t),e=E[t],delete E[t],P&&u.emit("delete",t,e))},clear:function(){var t=E;b&&b(),E=s(null),u.emit("clear",t)},on:function(t,e){return"get"===t?j=!0:"set"===t?T=!0:"delete"===t&&(P=!0),h.call(this,t,e)},emit:d,updateEnv:function(){t=u.original}},O=v?o((function(t){var e,n=arguments;M&&(n=M(n)),null!==(e=v(n))&&u.delete(e)}),y):0===e?function(){return u.delete("data")}:function(t){return M&&(t=M(arguments)[0]),u.delete(t)},w=o((function(){var t,n=arguments;return 0===e?E.data:(M&&(n=M(n)),t=v?v(n):String(n[0]),E[t])})),x=o((function(){var t,n=arguments;return 0===e?u.has("data"):(M&&(n=M(n)),null!==(t=v?v(n):String(n[0]))&&u.has(t))})),p(S,{__memoized__:i(!0),delete:i(O),clear:i(u.clear),_get:i(w),_has:i(x)}),u}},function(t,e,n){"use strict";var r=n(13),o=n(38),i=n(1),u=Error.captureStackTrace;e=t.exports=function(t){var n=new Error(t),c=arguments[1],a=arguments[2];return i(a)||o(c)&&(a=c,c=null),i(a)&&r(n,a),i(c)&&(n.code=c),u&&u(n,e),n}},function(t,e,n){"use strict";t.exports=function(){var t,e=Object.assign;return"function"===typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,n){"use strict";var r=n(35),o=n(5),i=Math.max;t.exports=function(t,e){var n,u,c,a=i(arguments.length,2);for(t=Object(o(t)),c=function(r){try{t[r]=e[r]}catch(o){n||(n=o)}},u=1;u<a;++u)e=arguments[u],r(e).forEach(c);if(void 0!==n)throw n;return t}},function(t,e,n){"use strict";t.exports=n(36)()?Object.keys:n(37)},function(t,e,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e,n){"use strict";var r=n(1),o=Object.keys;t.exports=function(t){return o(r(t)?Object(t):t)}},function(t,e,n){"use strict";var r=n(1),o={function:!0,object:!0};t.exports=function(t){return r(t)&&o[typeof t]||!1}},function(t,e,n){"use strict";var r=n(40),o=/^\s*class[\s{/}]/,i=Function.prototype.toString;t.exports=function(t){return!!r(t)&&!o.test(i.call(t))}},function(t,e,n){"use strict";var r=n(41);t.exports=function(t){if("function"!==typeof t)return!1;if(!hasOwnProperty.call(t,"length"))return!1;try{if("number"!==typeof t.length)return!1;if("function"!==typeof t.call)return!1;if("function"!==typeof t.apply)return!1}catch(e){return!1}return!r(t)}},function(t,e,n){"use strict";var r=n(42);t.exports=function(t){if(!r(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch(e){return!1}}},function(t,e,n){"use strict";var r=n(16),o={object:!0,function:!0,undefined:!0};t.exports=function(t){return!!r(t)&&hasOwnProperty.call(o,typeof t)}},function(t,e,n){"use strict";t.exports=n(44)()?String.prototype.contains:n(45)},function(t,e,n){"use strict";var r="razdwatrzy";t.exports=function(){return"function"===typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},function(t,e,n){"use strict";var r=String.prototype.indexOf;t.exports=function(t){return r.call(this,t,arguments[1])>-1}},function(t,e,n){"use strict";var r,o,i,u,c,a,f,l=n(4),s=n(0),p=Function.prototype.apply,h=Function.prototype.call,d=Object.create,y=Object.defineProperty,v=Object.defineProperties,m=Object.prototype.hasOwnProperty,g={configurable:!0,enumerable:!1,writable:!0};o=function(t,e){var n,o;return s(e),o=this,r.call(this,t,n=function(){i.call(o,t,n),p.call(e,this,arguments)}),n.__eeOnceListener__=e,this},c={on:r=function(t,e){var n;return s(e),m.call(this,"__ee__")?n=this.__ee__:(n=g.value=d(null),y(this,"__ee__",g),g.value=null),n[t]?"object"===typeof n[t]?n[t].push(e):n[t]=[n[t],e]:n[t]=e,this},once:o,off:i=function(t,e){var n,r,o,i;if(s(e),!m.call(this,"__ee__"))return this;if(!(n=this.__ee__)[t])return this;if("object"===typeof(r=n[t]))for(i=0;o=r[i];++i)o!==e&&o.__eeOnceListener__!==e||(2===r.length?n[t]=r[i?0:1]:r.splice(i,1));else r!==e&&r.__eeOnceListener__!==e||delete n[t];return this},emit:u=function(t){var e,n,r,o,i;if(m.call(this,"__ee__")&&(o=this.__ee__[t]))if("object"===typeof o){for(n=arguments.length,i=new Array(n-1),e=1;e<n;++e)i[e-1]=arguments[e];for(o=o.slice(),e=0;r=o[e];++e)p.call(r,this,i)}else switch(arguments.length){case 1:h.call(o,this);break;case 2:h.call(o,this,arguments[1]);break;case 3:h.call(o,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,i=new Array(n-1),e=1;e<n;++e)i[e-1]=arguments[e];p.call(o,this,i)}}},a={on:l(r),once:l(o),off:l(i),emit:l(u)},f=v({},a),t.exports=e=function(t){return null==t?d(f):v(Object(t),a)},e.methods=c},function(t,e,n){"use strict";var r,o=n(48),i=n(1),u=n(0),c=Array.prototype.slice;r=function(t){return this.map((function(e,n){return e?e(t[n]):t[n]})).concat(c.call(t,this.length))},t.exports=function(t){return(t=o(t)).forEach((function(t){i(t)&&u(t)})),r.bind(t)}},function(t,e,n){"use strict";var r=n(8),o=Array.isArray;t.exports=function(t){return o(t)?t:r(t)}},function(t,e,n){"use strict";t.exports=function(){var t,e,n=Array.from;return"function"===typeof n&&(e=n(t=["raz","dwa"]),Boolean(e&&e!==t&&"dwa"===e[1]))}},function(t,e,n){"use strict";var r=n(51).iterator,o=n(60),i=n(61),u=n(2),c=n(0),a=n(5),f=n(1),l=n(62),s=Array.isArray,p=Function.prototype.call,h={configurable:!0,enumerable:!0,writable:!0,value:null},d=Object.defineProperty;t.exports=function(t){var e,n,y,v,m,g,b,O,w,x,_=arguments[1],j=arguments[2];if(t=Object(a(t)),f(_)&&c(_),this&&this!==Array&&i(this))e=this;else{if(!_){if(o(t))return 1!==(m=t.length)?Array.apply(null,t):((v=new Array(1))[0]=t[0],v);if(s(t)){for(v=new Array(m=t.length),n=0;n<m;++n)v[n]=t[n];return v}}v=[]}if(!s(t))if(void 0!==(w=t[r])){for(b=c(w).call(t),e&&(v=new e),O=b.next(),n=0;!O.done;)x=_?p.call(_,j,O.value,n):O.value,e?(h.value=x,d(v,n,h)):v[n]=x,O=b.next(),++n;m=n}else if(l(t)){for(m=t.length,e&&(v=new e),n=0,y=0;n<m;++n)x=t[n],n+1<m&&(g=x.charCodeAt(0))>=55296&&g<=56319&&(x+=t[++n]),x=_?p.call(_,j,x,y):x,e?(h.value=x,d(v,y,h)):v[y]=x,++y;m=y}if(void 0===m)for(m=u(t.length),e&&(v=new e(m)),n=0;n<m;++n)x=_?p.call(_,j,t[n],n):t[n],e?(h.value=x,d(v,n,h)):v[n]=x;return e&&(h.value=null,v.length=m),v}},function(t,e,n){"use strict";t.exports=n(52)()?n(7).Symbol:n(55)},function(t,e,n){"use strict";var r=n(7),o={object:!0,symbol:!0};t.exports=function(){var t,e=r.Symbol;if("function"!==typeof e)return!1;t=e("test symbol");try{String(t)}catch(n){return!1}return!!o[typeof e.iterator]&&(!!o[typeof e.toPrimitive]&&!!o[typeof e.toStringTag])}},function(t,e,n){"use strict";t.exports=function(){return"object"===typeof globalThis&&(!!globalThis&&globalThis.Array===Array)}},function(t,e){var n=function(){if("object"===typeof self&&self)return self;if("object"===typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};t.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(t){return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}()},function(t,e,n){"use strict";var r,o,i,u=n(4),c=n(17),a=n(7).Symbol,f=n(57),l=n(58),s=n(59),p=Object.create,h=Object.defineProperties,d=Object.defineProperty;if("function"===typeof a)try{String(a()),i=!0}catch(y){}else a=null;o=function(t){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return r(t)},t.exports=r=function t(e){var n;if(this instanceof t)throw new TypeError("Symbol is not a constructor");return i?a(e):(n=p(o.prototype),e=void 0===e?"":String(e),h(n,{__description__:u("",e),__name__:u("",f(e))}))},l(r),s(r),h(o.prototype,{constructor:u(r),toString:u("",(function(){return this.__name__}))}),h(r.prototype,{toString:u((function(){return"Symbol ("+c(this).__description__+")"})),valueOf:u((function(){return c(this)}))}),d(r.prototype,r.toPrimitive,u("",(function(){var t=c(this);return"symbol"===typeof t?t:t.toString()}))),d(r.prototype,r.toStringTag,u("c","Symbol")),d(o.prototype,r.toStringTag,u("c",r.prototype[r.toStringTag])),d(o.prototype,r.toPrimitive,u("c",r.prototype[r.toPrimitive]))},function(t,e,n){"use strict";t.exports=function(t){return!!t&&("symbol"===typeof t||!!t.constructor&&("Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag]))}},function(t,e,n){"use strict";var r=n(4),o=Object.create,i=Object.defineProperty,u=Object.prototype,c=o(null);t.exports=function(t){for(var e,n,o=0;c[t+(o||"")];)++o;return c[t+=o||""]=!0,i(u,e="@@"+t,r.gs(null,(function(t){n||(n=!0,i(this,e,r(t)),n=!1)}))),e}},function(t,e,n){"use strict";var r=n(4),o=n(7).Symbol;t.exports=function(t){return Object.defineProperties(t,{hasInstance:r("",o&&o.hasInstance||t("hasInstance")),isConcatSpreadable:r("",o&&o.isConcatSpreadable||t("isConcatSpreadable")),iterator:r("",o&&o.iterator||t("iterator")),match:r("",o&&o.match||t("match")),replace:r("",o&&o.replace||t("replace")),search:r("",o&&o.search||t("search")),species:r("",o&&o.species||t("species")),split:r("",o&&o.split||t("split")),toPrimitive:r("",o&&o.toPrimitive||t("toPrimitive")),toStringTag:r("",o&&o.toStringTag||t("toStringTag")),unscopables:r("",o&&o.unscopables||t("unscopables"))})}},function(t,e,n){"use strict";var r=n(4),o=n(17),i=Object.create(null);t.exports=function(t){return Object.defineProperties(t,{for:r((function(e){return i[e]?i[e]:i[e]=t(String(e))})),keyFor:r((function(t){var e;for(e in o(t),i)if(i[e]===t)return e}))})}},function(t,e,n){"use strict";var r=Object.prototype.toString,o=r.call(function(){return arguments}());t.exports=function(t){return r.call(t)===o}},function(t,e,n){"use strict";var r=Object.prototype.toString,o=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);t.exports=function(t){return"function"===typeof t&&o(r.call(t))}},function(t,e,n){"use strict";var r=Object.prototype.toString,o=r.call("");t.exports=function(t){return"string"===typeof t||t&&"object"===typeof t&&(t instanceof String||r.call(t)===o)||!1}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t){var e;return"function"===typeof t?{set:t,get:t}:(e={get:r(t.get)},void 0!==t.set?(e.set=r(t.set),t.delete&&(e.delete=r(t.delete)),t.clear&&(e.clear=r(t.clear)),e):(e.set=e.get,e))}},function(t,e,n){"use strict";t.exports=function(t){var e,n,r=t.length;if(!r)return"\x02";for(e=String(t[n=0]);--r;)e+="\x01"+t[++n];return e}},function(t,e,n){"use strict";t.exports=function(t){return t?function(e){for(var n=String(e[0]),r=0,o=t;--o;)n+="\x01"+e[++r];return n}:function(){return""}}},function(t,e,n){"use strict";var r=n(9),o=Object.create;t.exports=function(){var t=0,e=[],n=o(null);return{get:function(t){var n,o=0,i=e,u=t.length;if(0===u)return i[u]||null;if(i=i[u]){for(;o<u-1;){if(-1===(n=r.call(i[0],t[o])))return null;i=i[1][n],++o}return-1===(n=r.call(i[0],t[o]))?null:i[1][n]||null}return null},set:function(o){var i,u=0,c=e,a=o.length;if(0===a)c[a]=++t;else{for(c[a]||(c[a]=[[],[]]),c=c[a];u<a-1;)-1===(i=r.call(c[0],o[u]))&&(i=c[0].push(o[u])-1,c[1].push([[],[]])),c=c[1][i],++u;-1===(i=r.call(c[0],o[u]))&&(i=c[0].push(o[u])-1),c[1][i]=++t}return n[t]=o,t},delete:function(t){var o,i=0,u=e,c=n[t],a=c.length,f=[];if(0===a)delete u[a];else if(u=u[a]){for(;i<a-1;){if(-1===(o=r.call(u[0],c[i])))return;f.push(u,o),u=u[1][o],++i}if(-1===(o=r.call(u[0],c[i])))return;for(t=u[1][o],u[0].splice(o,1),u[1].splice(o,1);!u[0].length&&f.length;)o=f.pop(),(u=f.pop())[0].splice(o,1),u[1].splice(o,1)}delete n[t]},clear:function(){e=[],n=o(null)}}}},function(t,e,n){"use strict";t.exports=n(68)()?Number.isNaN:n(69)},function(t,e,n){"use strict";t.exports=function(){var t=Number.isNaN;return"function"===typeof t&&(!t({})&&t(NaN)&&!t(34))}},function(t,e,n){"use strict";t.exports=function(t){return t!==t}},function(t,e,n){"use strict";var r=n(9);t.exports=function(){var t=0,e=[],n=[];return{get:function(t){var o=r.call(e,t[0]);return-1===o?null:n[o]},set:function(r){return e.push(r[0]),n.push(++t),t},delete:function(t){var o=r.call(n,t);-1!==o&&(e.splice(o,1),n.splice(o,1))},clear:function(){e=[],n=[]}}}},function(t,e,n){"use strict";var r=n(9),o=Object.create;t.exports=function(t){var e=0,n=[[],[]],i=o(null);return{get:function(e){for(var o,i=0,u=n;i<t-1;){if(-1===(o=r.call(u[0],e[i])))return null;u=u[1][o],++i}return-1===(o=r.call(u[0],e[i]))?null:u[1][o]||null},set:function(o){for(var u,c=0,a=n;c<t-1;)-1===(u=r.call(a[0],o[c]))&&(u=a[0].push(o[c])-1,a[1].push([[],[]])),a=a[1][u],++c;return-1===(u=r.call(a[0],o[c]))&&(u=a[0].push(o[c])-1),a[1][u]=++e,i[e]=o,e},delete:function(e){for(var o,u=0,c=n,a=[],f=i[e];u<t-1;){if(-1===(o=r.call(c[0],f[u])))return;a.push(c,o),c=c[1][o],++u}if(-1!==(o=r.call(c[0],f[u]))){for(e=c[1][o],c[0].splice(o,1),c[1].splice(o,1);!c[0].length&&a.length;)o=a.pop(),(c=a.pop())[0].splice(o,1),c[1].splice(o,1);delete i[e]}},clear:function(){n=[[],[]],i=o(null)}}}},function(t,e,n){"use strict";var r=n(8),o=n(18),i=n(15),u=n(14),c=n(10),a=Array.prototype.slice,f=Function.prototype.apply,l=Object.create;n(3).async=function(t,e){var n,s,p,h=l(null),d=l(null),y=e.memoized,v=e.original;e.memoized=u((function(t){var e=arguments,r=e[e.length-1];return"function"===typeof r&&(n=r,e=a.call(e,0,-1)),y.apply(s=this,p=e)}),y);try{i(e.memoized,y)}catch(m){}e.on("get",(function(t){var r,o,i;if(n){if(h[t])return"function"===typeof h[t]?h[t]=[h[t],n]:h[t].push(n),void(n=null);r=n,o=s,i=p,n=s=p=null,c((function(){var u;hasOwnProperty.call(d,t)?(u=d[t],e.emit("getasync",t,i,o),f.call(r,u.context,u.args)):(n=r,s=o,p=i,y.apply(o,i))}))}})),e.original=function(){var t,o,i,u;return n?(t=r(arguments),o=function t(n){var o,i,a=t.id;if(null!=a){if(delete t.id,o=h[a],delete h[a],o)return i=r(arguments),e.has(a)&&(n?e.delete(a):(d[a]={context:this,args:i},e.emit("setasync",a,"function"===typeof o?1:o.length))),"function"===typeof o?u=f.call(o,this,i):o.forEach((function(t){u=f.call(t,this,i)}),this),u}else c(f.bind(t,this,arguments))},i=n,n=s=p=null,t.push(o),u=f.call(v,this,t),o.cb=i,n=o,u):f.call(v,this,arguments)},e.on("set",(function(t){n?(h[t]?"function"===typeof h[t]?h[t]=[h[t],n.cb]:h[t].push(n.cb):h[t]=n.cb,delete n.cb,n.id=t,n=null):e.delete(t)})),e.on("delete",(function(t){var n;hasOwnProperty.call(h,t)||d[t]&&(n=d[t],delete d[t],e.emit("deleteasync",t,a.call(n.args,1)))})),e.on("clear",(function(){var t=d;d=l(null),e.emit("clearasync",o(t,(function(t){return a.call(t.args,1)})))}))}},function(t,e,n){(function(t){var r="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(74),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(20))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,o=1,i={},u=!1,c=t.document,a=Object.getPrototypeOf&&Object.getPrototypeOf(t);a=a&&a.setTimeout?a:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){l(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&l(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){l(t.data)},r=function(e){t.port2.postMessage(e)}}():c&&"onreadystatechange"in c.createElement("script")?function(){var t=c.documentElement;r=function(e){var n=c.createElement("script");n.onreadystatechange=function(){l(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(l,0,t)},a.setImmediate=function(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var u={callback:t,args:e};return i[o]=u,r(o),o++},a.clearImmediate=f}function f(t){delete i[t]}function l(t){if(u)setTimeout(l,0,t);else{var e=i[t];if(e){u=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{f(t),u=!1}}}}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,n(20),n(19))},function(t,e,n){"use strict";var r=n(18),o=n(76),i=n(77),u=n(79),c=n(22),a=n(10),f=Object.create,l=o("then","then:finally","done","done:finally");n(3).promise=function(t,e){var n=f(null),o=f(null),s=f(null);if(!0===t)t=null;else if(t=i(t),!l[t])throw new TypeError("'"+u(t)+"' is not valid promise mode");e.on("set",(function(r,i,u){var f=!1;if(!c(u))return o[r]=u,void e.emit("setasync",r,1);n[r]=1,s[r]=u;var l=function(t){var i=n[r];if(f)throw new Error("Memoizee error: Detected unordered then|done & finally resolution, which in turn makes proper detection of success/failure impossible (when in 'done:finally' mode)\nConsider to rely on 'then' or 'done' mode instead.");i&&(delete n[r],o[r]=t,e.emit("setasync",r,i))},p=function(){f=!0,n[r]&&(delete n[r],delete s[r],e.delete(r))},h=t;if(h||(h="then"),"then"===h){var d=function(){a(p)};"function"===typeof(u=u.then((function(t){a(l.bind(this,t))}),d)).finally&&u.finally(d)}else if("done"===h){if("function"!==typeof u.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done' mode");u.done(l,p)}else if("done:finally"===h){if("function"!==typeof u.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done:finally' mode");if("function"!==typeof u.finally)throw new Error("Memoizee error: Retrieved promise does not implement 'finally' in 'done:finally' mode");u.done(l),u.finally(p)}})),e.on("get",(function(t,r,o){var i;if(n[t])++n[t];else{i=s[t];var u=function(){e.emit("getasync",t,r,o)};c(i)?"function"===typeof i.done?i.done(u):i.then((function(){a(u)})):u()}})),e.on("delete",(function(t){if(delete s[t],n[t])delete n[t];else if(hasOwnProperty.call(o,t)){var r=o[t];delete o[t],e.emit("deleteasync",t,[r])}})),e.on("clear",(function(){var t=o;o=f(null),n=f(null),s=f(null),e.emit("clearasync",r(t,(function(t){return[t]})))}))}},function(t,e,n){"use strict";var r=Array.prototype.forEach,o=Object.create;t.exports=function(t){var e=o(null);return r.call(arguments,(function(t){e[t]=!0})),e}},function(t,e,n){"use strict";var r=n(5),o=n(78);t.exports=function(t){return o(r(t))}},function(t,e,n){"use strict";var r=n(21);t.exports=function(t){try{return t&&r(t.toString)?t.toString():String(t)}catch(e){throw new TypeError("Passed argument cannot be stringifed")}}},function(t,e,n){"use strict";var r=n(80),o=/[\n\r\u2028\u2029]/g;t.exports=function(t){var e=r(t);return e.length>100&&(e=e.slice(0,99)+"\u2026"),e=e.replace(o,(function(t){return JSON.stringify(t).slice(1,-1)}))}},function(t,e,n){"use strict";var r=n(21);t.exports=function(t){try{return t&&r(t.toString)?t.toString():String(t)}catch(e){return"<Non-coercible to string value>"}}},function(t,e,n){"use strict";var r=n(0),o=n(6),i=n(3),u=Function.prototype.apply;i.dispose=function(t,e,n){var c;if(r(t),n.async&&i.async||n.promise&&i.promise)return e.on("deleteasync",c=function(e,n){u.call(t,null,n)}),void e.on("clearasync",(function(t){o(t,(function(t,e){c(e,t)}))}));e.on("delete",c=function(e,n){t(n)}),e.on("clear",(function(t){o(t,(function(t,e){c(e,t)}))}))}},function(t,e,n){"use strict";var r=n(8),o=n(6),i=n(10),u=n(22),c=n(83),a=n(3),f=Function.prototype,l=Math.max,s=Math.min,p=Object.create;a.maxAge=function(t,e,n){var h,d,y,v;(t=c(t))&&(h=p(null),d=n.async&&a.async||n.promise&&a.promise?"async":"",e.on("set"+d,(function(n){h[n]=setTimeout((function(){e.delete(n)}),t),"function"===typeof h[n].unref&&h[n].unref(),v&&(v[n]&&"nextTick"!==v[n]&&clearTimeout(v[n]),v[n]=setTimeout((function(){delete v[n]}),y),"function"===typeof v[n].unref&&v[n].unref())})),e.on("delete"+d,(function(t){clearTimeout(h[t]),delete h[t],v&&("nextTick"!==v[t]&&clearTimeout(v[t]),delete v[t])})),n.preFetch&&(y=!0===n.preFetch||isNaN(n.preFetch)?.333:l(s(Number(n.preFetch),1),0))&&(v={},y=(1-y)*t,e.on("get"+d,(function(t,o,c){v[t]||(v[t]="nextTick",i((function(){var i;"nextTick"===v[t]&&(delete v[t],e.delete(t),n.async&&(o=r(o)).push(f),i=e.memoized.apply(c,o),n.promise&&u(i)&&("function"===typeof i.done?i.done(f,f):i.then(f,f)))})))}))),e.on("clear"+d,(function(){o(h,(function(t){clearTimeout(t)})),h={},v&&(o(v,(function(t){"nextTick"!==t&&clearTimeout(t)})),v={})})))}},function(t,e,n){"use strict";var r=n(2),o=n(84);t.exports=function(t){if((t=r(t))>o)throw new TypeError(t+" exceeds maximum possible timeout");return t}},function(t,e,n){"use strict";t.exports=2147483647},function(t,e,n){"use strict";var r=n(2),o=n(86),i=n(3);i.max=function(t,e,n){var u,c,a;(t=r(t))&&(c=o(t),u=n.async&&i.async||n.promise&&i.promise?"async":"",e.on("set"+u,a=function(t){void 0!==(t=c.hit(t))&&e.delete(t)}),e.on("get"+u,a),e.on("delete"+u,c.delete),e.on("clear"+u,c.clear))}},function(t,e,n){"use strict";var r=n(2),o=Object.create,i=Object.prototype.hasOwnProperty;t.exports=function(t){var e,n=0,u=1,c=o(null),a=o(null),f=0;return t=r(t),{hit:function(r){var o=a[r],l=++f;if(c[l]=r,a[r]=l,!o){if(++n<=t)return;return r=c[u],e(r),r}if(delete c[o],u===o)for(;!i.call(c,++u););},delete:e=function(t){var e=a[t];if(e&&(delete c[e],delete a[t],--n,u===e)){if(!n)return f=0,void(u=1);for(;!i.call(c,++u););}},clear:function(){n=0,u=1,c=o(null),a=o(null),f=0}}}},function(t,e,n){"use strict";var r=n(4),o=n(3),i=Object.create,u=Object.defineProperties;o.refCounter=function(t,e,n){var c,a;c=i(null),a=n.async&&o.async||n.promise&&o.promise?"async":"",e.on("set"+a,(function(t,e){c[t]=e||1})),e.on("get"+a,(function(t){++c[t]})),e.on("delete"+a,(function(t){delete c[t]})),e.on("clear"+a,(function(){c={}})),u(e.memoized,{deleteRef:r((function(){var t=e.get(arguments);return null===t?null:c[t]?!--c[t]&&(e.delete(t),!0):null})),getRefCount:r((function(){var t=e.get(arguments);return null===t?0:c[t]?c[t]:0}))})}},function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(a){o=!0,i=a}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e);var i=n(23),u=n.n(i);var c,a=(c=Array(16).keys(),function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(c)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).map((function(t){return 1<<t+13})),f=function(t){return t[t.length-1]},l=function(t){return 0!==(128&f(t))},s=function(t){return 0!==(256&f(t))},p=function(t){return 0!==(512&f(t))},h=function(t){return 0!==(1024&f(t))},d=function(t){return 0!==(2048&f(t))},y=function(t){return 0!==(4096&f(t))},v=function(t){t[t.length-1]=512|f(t)},m=function(t){t[t.length-1]=1024|f(t)},g=function(t){t[t.length-1]=2048|f(t)},b=function(t){t[t.length-1]=4096|f(t)},O={PAWN:{id:1,name:"Pawn",value:1},KNIGHT:{id:2,name:"Knight",value:3},BISHOP:{id:3,name:"Bishop",value:3},ROOK:{id:4,name:"Rook",value:5},QUEEN:{id:5,name:"Queen",value:9},KING:{id:6,name:"King",value:10}},w=Object.values(O).sort((function(t,e){return t.id-e.id})).map((function(t){return t})),x=function(t){return w[t-1]},_=O.PAWN.id,j=(O.KNIGHT.id,O.BISHOP.id,O.ROOK.id),T=(O.QUEEN.id,O.KING.id),P=function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(99===t[o])return!1;var u=Math.sign(t[r]);if(e!==u)return!1;var c=Math.sign(t[o]);if(u===c)return!1;if(!i&&B(t,{piece:n,start:r,end:o},e))return!1;var a=-u;if(o-r===10*a&&0===t[o])return!0;var f=1===u?81:31,l=1===u?88:38,s=r>=f&&r<=l,p=0===t[r+10*a];return!(o-r!==20*a||!s||!p||0!==t[o])||((o-r===11*a||o-r===9*a)&&0!==t[o]||!(o-r!==11*a&&o-r!==9*a||0!==t[o]||!S(t,u,o)))},S=function(t,e,n){var r=f(t);return n>40&&n<49&&1===e?0!==(r&a[n-41]):n>70&&n<79&&-1===e&&0!==(r&a[n-71+8])},M=function(){return[O.QUEEN,O.ROOK,O.BISHOP,O.KNIGHT]},E=[21,19,12,8,-12,-21,-19,-8],I=function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(99===t[o])return!1;var u=Math.sign(t[r]);if(e!==u)return!1;var c=Math.sign(t[o]);return u!==c&&(!(!i&&B(t,{piece:n,start:r,end:o},e))&&E.some((function(t){return o===r+t})))},N=[9,11,-9,-11],A=function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(99===t[o])return!1;var u=Math.sign(t[r]);if(e!==u)return!1;var c=Math.sign(t[o]);return u!==c&&(!(!i&&B(t,{piece:n,start:r,end:o},e))&&N.some((function(e){for(var n=1;n<=7;n++){if(o===r+e*n)return!0;if(0!==t[r+e*n])return!1}return!1})))},C=function(t,e,n,r){return N.flatMap((function(o){for(var i=[],u=1;u<=7;u++){if(!A(t,e,n,r,r+o*u)){if(0===t[r+o*u])continue;return i}i.push({piece:n,start:r,end:r+o*u})}return i}))},k=[1,10,-1,-10],z=function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(99===t[o])return!1;var u=Math.sign(t[r]);if(e!==u)return!1;var c=Math.sign(t[o]);return u!==c&&(!(!i&&B(t,{piece:n,start:r,end:o},e))&&k.some((function(e){for(var n=1;n<=7;n++){if(o===r+e*n)return!0;if(0!==t[r+e*n])return!1}return!1})))},F=function(t,e,n,r){return k.flatMap((function(o){for(var i=[],u=1;u<=7;u++){if(!z(t,e,n,r,r+o*u)){if(0===t[r+o*u])continue;return i}i.push({piece:n,start:r,end:r+o*u})}return i}))},R=k.concat(N),L=function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(99===t[o])return!1;var u=Math.sign(t[r]);if(e!==u)return!1;var c=Math.sign(t[o]);if(u===c)return!1;if(!l(t)){if(!h(t)&&1===e&&95===r&&97===o&&0===t[96]&&0===t[97]&&!V(t,-e,95)&&!V(t,-e,96)&&!V(t,-e,97))return!0;if(!p(t)&&1===e&&95===r&&93===o&&0===t[94]&&0===t[93]&&0===t[92]&&!V(t,-e,95)&&!V(t,-e,94)&&!V(t,-e,93)&&!V(t,-e,92))return!0}if(!s(t)){if(!y(t)&&-1===e&&25===r&&27===o&&0===t[26]&&0===t[27]&&!V(t,-e,25)&&!V(t,-e,26)&&!V(t,-e,27))return!0;if(!d(t)&&-1===e&&25===r&&23===o&&0===t[24]&&0===t[23]&&0===t[22]&&!V(t,-e,25)&&!V(t,-e,24)&&!V(t,-e,23)&&!V(t,-e,22))return!0}var a=R.some((function(t){return r+t===o}));return a&&(i||!B(t,{piece:n,start:r,end:o},e))},K=function(t,e){var n=e.piece,r=e.start,o=e.end,i=Math.sign(t[r]),u=t[o];return t[r]=0,1===n.id&&0===t[o]&&(9===Math.abs(r-o)?(u=t[r+i],t[r+i]=0,e.enPassant=!0):11===Math.abs(r-o)&&(u=t[r-i],t[r-i]=0,e.enPassant=!0)),t[o]=n.id*i,6===n.id&&(1===i?function(t){t[t.length-1]=128|f(t)}(t):function(t){t[t.length-1]=256|f(t)}(t),2===Math.abs(r-o)&&(97===o?(t[96]=t[98],t[98]=0,m(t)):93===o?(t[94]=t[91],t[91]=0,v(t)):27===o?(t[26]=t[28],t[28]=0,b(t)):23===o&&(t[24]=t[21],t[21]=0,g(t)))),4===n.id&&(91===r?v(t):98===r?m(t):21===r?g(t):28===r&&b(t)),U(t),1===n.id&&20===Math.abs(r-o)&&D(t,r,i),u},U=function(t){t[t.length-1]=f(t)&a[0]-1},D=function(t,e,n){var r=-1===n?e-31:e-81+8;t[t.length-1]=f(t)|a[r]},G=function(t,e,n,r){var o=e.start,i=e.end,u=e.piece,c=e.enPassant;if(t[t.length-1]=r,t[o]=t[i],t[i]=c?0:n,c){var a=Math.sign(t[o]);9===Math.abs(o-i)?t[o+a]=n:11===Math.abs(o-i)&&(t[o-a]=n)}6===u.id&&2===Math.abs(o-i)&&(97===i?(t[98]=t[96],t[96]=0):93===i?(t[91]=t[94],t[94]=0):27===i?(t[28]=t[26],t[26]=0):23===i&&(t[21]=t[24],t[24]=0))},H=function(t,e){var n=t.findIndex((function(t){return t===O.KING.id*e}));return!n||V(t,-e,n)},B=function(t,e,n){var r=f(t),o=K(t,e),i=H(t,n);return G(t,e,o,r),i},Q=[P,I,A,z,function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return A(t,e,n,r,o,i)||z(t,e,n,r,o,i)},L],V=function(t,e,n){return t.some((function(r,o){if(o===t.length-1)return!1;if(0===r||99===r)return!1;if(Math.sign(r)!==e)return!1;var i=Math.abs(r),u=x(i);return(0,Q[i-1])(t,e,u,o,n,!0)}))},W=[function(t,e,n,r){var o=-e;return 1===e&&r<39?[9,10,11,20].filter((function(i){return P(t,e,n,r,r+i*o)})).flatMap((function(t){return M().map((function(e){return{piece:e,start:r,end:r+t*o}}))})):-1===e&&r>80?[9,10,11,20].filter((function(i){return P(t,e,n,r,r+i*o)})).flatMap((function(t){return M().map((function(e){return{piece:e,start:r,end:r+t*o}}))})):[9,10,11,20].filter((function(i){return P(t,e,n,r,r+i*o)})).map((function(t){return{piece:n,start:r,end:r+t*o}}))},function(t,e,n,r){return E.filter((function(o){return I(t,e,n,r,r+o)})).map((function(t){return{piece:n,start:r,end:r+t}}))},C,F,function(t,e,n,r){return C(t,e,n,r).concat(F(t,e,n,r))},function(t,e,n,r){var o=R.filter((function(o){return L(t,e,n,r,r+o)})).map((function(t){return{piece:n,start:r,end:r+t}}));return(1===e&&95===r||-1===e&&25===r)&&(L(t,e,n,r,r+2)&&o.push({piece:n,start:r,end:r+2}),L(t,e,n,r,r-2)&&o.push({piece:n,start:r,end:r-2})),o}],$=function(t,e){return t.flatMap((function(n,r){if(r===t.length-1)return[];if(0===n||99===n)return[];if(Math.sign(n)!==e)return[];var o=Math.abs(n),i=x(o);return(0,W[o-1])(t,e,i,r)}))},J=function(t,e){return H(t,e)&&0===$(t,e).length};function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var q=function(t){return(t-21)%10},X=function(t){if(J(t,1))return-1e5;if(J(t,-1))return 1e5;for(var e=0,n=0,r=0,o=0,i=0,u=0,c=0,a=0,f=21;f<=98;f++){var v=t[f];if(0!==v&&99!==v&&Math.abs(v)!==O.KING.id){if(e+=x(Math.abs(v)).value*Math.sign(v),-1===v){var m=1<<q(f);0!==(a&m)?n+=5:a|=m}else if(1===v){var g=1<<q(f);0!==(c&g)?n-=5:c|=g}else-2===v?u++:2===v?i++:-3===v?o++:3===v&&r++;f>=41&&f<=88&&(t[f]<-1&&t[f]>-4?n-=2:t[f]>1&&t[f]<4&&(n+=2))}}2===i&&(n+=400),2===u&&(n-=400),2===r&&(n+=600),2===o&&(n-=600),-1===t[54]&&(n-=2),-1===t[55]&&(n-=2),1===t[64]&&(n+=2),1===t[65]&&(n+=2);var b=0;l(t)&&b--,h(t)&&b--,p(t)&&b--,s(t)&&b++,y(t)&&b++,d(t)&&b++,t[27]===-T&&t[26]===-j&&t[36]===-_&&t[37]===-_&&t[38]===-_?b-=10:t[22]===-T&&t[23]===-j&&t[31]===-_&&t[32]===-_&&t[33]===-_&&(b-=10),t[97]===T&&t[96]===j&&t[86]===_&&t[87]===_&&t[88]===_?b+=10:t[92]===T&&t[93]===j&&t[81]===_&&t[82]===_&&t[83]===_&&(b+=10);for(var w=31;w<=33;w++)-1!==t[w]&&b++;for(var P=36;P<=38;P++)-1!==t[P]&&b++;for(var S=81;S<=83;S++)1!==t[S]&&b--;for(var M=86;M<=88;M++)1!==t[M]&&b--;return 1e3*e+n+b},Y=function(t,e){var n=f(t),r=K(t,e),o=X(t);return G(t,e,r,n),o},tt=function(t,e,n){return e.map((function(e){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(n,!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e,{score:Y(t,e)})})).sort((function(t,e){return n*(e.score-t.score)}))},et=function(t,e,n){var o=r(rt(t,-1e10,1e10,e,n,0,!0),2);o[0];return o[1]},nt=function(t,e){var n=X(t);return 1e5===n?n+(100-e):-1e5===n?n-(100-e):n},rt=function t(e,n,o,i,u,c,a){if(u<=0)return[nt(e,c)*i,null];var l=tt(e,$(e,i),i);if(0===l.length)return[nt(e,c)*i,null];var s=-1e7,p=null,h=u>1?ot:t,d=!0,y=!1,v=void 0;try{for(var m,g=l[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var b=m.value,O=f(e),w=K(e,b),x=-r(h(e,-o,-n,-i,u-1,c+1,!1),1)[0];if(G(e,b,w,O),x>s&&(s=x,(p=b).score=x),(n=Math.max(n,s))>=o)break}}catch(_){y=!0,v=_}finally{try{d||null==g.return||g.return()}finally{if(y)throw v}}return a?[s,p]:[s,null]},ot=u()(rt,{max:5e5,normalizer:function(t){for(var e=t[0],n="",r=21;r<=98;r++)n+=e[r];return n+t[3]+t[4]}});function it(t,e,n){console.log("Start calculation of move ...");var r=et(t,e,n);return console.log("Calculation finished",r.score),{start:r.start,end:r.end,piece:{id:r.piece.id,name:r.piece.name}}}n.d(e,"calculateMove",(function(){return it})),addEventListener("message",(function(t){var n,r=t.data,o=r.type,i=r.method,u=r.id,c=r.params;"RPC"===o&&i&&((n=e[i])?Promise.resolve().then((function(){return n.apply(e,c)})):Promise.reject("No such method")).then((function(t){postMessage({type:"RPC",id:u,result:t})})).catch((function(t){var e={message:t};t.stack&&(e.message=t.message,e.stack=t.stack,e.name=t.name),postMessage({type:"RPC",id:u,error:e})}))})),postMessage({type:"RPC",method:"ready"})}]);
//# sourceMappingURL=e5a079cb85634e6c4f3b.worker.js.map